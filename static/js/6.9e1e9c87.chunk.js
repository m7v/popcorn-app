webpackJsonp([6],{653:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(874);e.default=n.a},874:function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=r(875),s=(r.n(a),r(2)),c=r.n(s),l=r(0),u=(r.n(l),r(268)),p=r.n(u),h=r(877),f=r.n(h),d=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),v=function(t){function e(){var t,r,i,a;n(this,e);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return r=i=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(c))),i.URL="https://c1.staticflickr.com/5/4052/4503898393_303cfbc9fd_b.jpg",i.MAP={name:"Map",areas:[{id:"1",path:"location/1",title:"1",shape:"poly",coords:[25,33,27,300,128,240,128,94]},{id:"2",path:"location/1",title:"2",shape:"poly",coords:[219,118,220,210,283,210,284,119]},{id:"3",path:"location/1",title:"3",shape:"poly",coords:[381,241,383,94,462,53,457,282]},{id:"4",path:"location/1",title:"4",shape:"poly",coords:[245,285,290,285,274,239,249,238]}]},i.handleClick=function(t){i.props.location.pathname!==t.path&&i.props.history.push(t.path)},a=r,o(i,a)}return i(e,t),d(e,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return c.a.createElement("div",{className:"InteractiveMap__root"},c.a.createElement(f.a,{src:this.URL,map:this.MAP,width:500,onClick:this.handleClick}))}}]),e}(c.a.Component);v.propTypes={location:Object(l.shape)({}).isRequired,history:Object(l.shape)({}).isRequired},e.a=p()(v)},875:function(t,e,r){var n=r(876);"string"===typeof n&&(n=[[t.i,n,""]]);var o={hmr:!1};o.transform=void 0;r(649)(n,o);n.locals&&(t.exports=n.locals)},876:function(t,e,r){e=t.exports=r(648)(!0),e.push([t.i,".InteractiveMap__root{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}","",{version:3,sources:["/home/a.mikhaylov/Projects/popcorn-app/src/modules/InteractiveMap/InteractiveMap.css"],names:[],mappings:"AAAA,sBACI,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,kBAAoB,CAC3B",file:"InteractiveMap.css",sourcesContent:[".InteractiveMap__root {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: center;\n        justify-content: center;\n    -ms-flex-align: center;\n        align-items: center;\n}\n"],sourceRoot:""}])},877:function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;t=l,e=i,r=a,n=!0,s=l=void 0}},p=r(2),h=n(p),f=r(0),d=n(f),v=function(t){function e(t){var r=this;i(this,e),u(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),["drawrect","drawcircle","drawpoly","initCanvas"].forEach(function(t){return r[t]=r[t].bind(r)});var n={position:"absolute",top:0,left:0};this.styles={container:{position:"relative"},canvas:c({},n,{pointerEvents:"none",zIndex:2}),img:c({},n,{zIndex:1,userSelect:"none"}),map:t.onClick&&{cursor:"pointer"}||void 0}}return a(e,t),l(e,[{key:"drawrect",value:function(t){t=t.split(",");var e=t,r=s(e,4),n=r[0],o=r[1],i=r[2],a=r[3];this.ctx.strokeRect(n,o,i-n,a-o),this.ctx.fillRect(n,o,i-n,a-o)}},{key:"drawcircle",value:function(t){t=t.split(","),this.ctx.beginPath(),this.ctx.arc(t[0],t[1],t[2],0,2*Math.PI),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}},{key:"drawpoly",value:function(t){var e=this;t=t.split(",").reduce(function(t,e,r,n){return r%2?t:[].concat(o(t),[n.slice(r,r+2)])},[]),this.ctx.beginPath();var r=t.unshift();this.ctx.moveTo(r[0],r[1]),t.forEach(function(t){return e.ctx.lineTo(t[0],t[1])}),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}},{key:"initCanvas",value:function(){this.props.width&&(this.img.width=this.props.width),this.props.height&&(this.img.height=this.props.height),this.canvas.width=this.props.width||this.img.clientWidth,this.canvas.height=this.props.height||this.img.clientHeight,this.container.style.width=(this.props.width||this.img.clientWidth)+"px",this.container.style.height=(this.props.height||this.img.clientHeight)+"px",this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle=this.props.fillColor,this.ctx.strokeStyle=this.props.strokeColor,this.ctx.lineWidth=this.props.lineWidth,this.props.onLoad&&this.props.onLoad()}},{key:"hoverOn",value:function(t,e,r){var n=r.target.getAttribute("shape");this.props.active&&this["draw"+n]&&this["draw"+n](r.target.getAttribute("coords")),this.props.onMouseEnter&&this.props.onMouseEnter(t,e,r)}},{key:"hoverOff",value:function(t,e,r){this.props.active&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.props.onMouseLeave&&this.props.onMouseLeave(t,e,r)}},{key:"click",value:function(t,e,r){this.props.onClick&&(r.preventDefault(),this.props.onClick(t,e,r))}},{key:"renderAreas",value:function(){var t=this;return this.props.map.areas.map(function(e,r){return h.default.createElement("area",{key:e._id||r,shape:e.shape,coords:e.coords.join(","),onMouseEnter:t.hoverOn.bind(t,e,r),onMouseLeave:t.hoverOff.bind(t,e,r),onClick:t.click.bind(t,e,r),href:e.href})})}},{key:"render",value:function(){var t=this;return h.default.createElement("div",{style:this.styles.container,ref:function(e){return t.container=e}},h.default.createElement("img",{style:this.styles.img,src:this.props.src,useMap:"#"+this.props.map.name,alt:"",ref:function(e){return t.img=e},onLoad:this.initCanvas,onClick:this.props.onImageClick}),h.default.createElement("canvas",{ref:function(e){return t.canvas=e},style:this.styles.canvas}),h.default.createElement("map",{name:this.props.map.name,style:this.styles.map},this.renderAreas()))}}]),e}(p.Component);e.default=v,v.defaultProps={active:!0,fillColor:"rgba(255, 255, 255, 0.5)",lineWidth:1,map:{areas:[],name:"image-map-"+Math.random()},strokeColor:"rgba(0, 0, 0, 0.5)"},v.propTypes={active:d.default.bool,fillColor:d.default.string,height:d.default.number,lineWidth:d.default.number,map:d.default.shape({areas:d.default.arrayOf(d.default.shape({area:d.default.shape({coords:d.default.arrayOf(d.default.number),href:d.default.string,shape:d.default.string})})),name:d.default.string}),onClick:d.default.func,onImageClick:d.default.func,onLoad:d.default.func,onMouseEnter:d.default.func,onMouseLeave:d.default.func,src:d.default.string.isRequired,strokeColor:d.default.string,width:d.default.number},t.exports=e.default}});
//# sourceMappingURL=6.9e1e9c87.chunk.js.map